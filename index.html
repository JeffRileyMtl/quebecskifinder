<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quebec Ski Finder</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: system-ui, -apple-system, sans-serif;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <script type="text/babel">
        const { useState, useMemo } = React;

        const QuebecSkiFinder = () => {
            const [maxPrice, setMaxPrice] = useState(150);
            const [sortBy, setSortBy] = useState('price');

            const resorts = [
                {
                    id: 1,
                    name: "Mont-Tremblant",
                    price: 139,
                    conditions: {
                        snow: 85,
                        trails: 102,
                        trailsOpen: 96,
                        baseDepth: 180,
                        newSnow: 5,
                        temp: -8,
                        weather: "Partly Cloudy"
                    },
                    location: "Laurentides",
                    distance: 130
                },
                {
                    id: 2,
                    name: "Mont-Sainte-Anne",
                    price: 119,
                    conditions: {
                        snow: 90,
                        trails: 71,
                        trailsOpen: 68,
                        baseDepth: 200,
                        newSnow: 12,
                        temp: -12,
                        weather: "Snowing"
                    },
                    location: "Québec City Region",
                    distance: 250
                },
                {
                    id: 3,
                    name: "Le Massif",
                    price: 129,
                    conditions: {
                        snow: 95,
                        trails: 53,
                        trailsOpen: 52,
                        baseDepth: 220,
                        newSnow: 15,
                        temp: -10,
                        weather: "Snowing"
                    },
                    location: "Charlevoix",
                    distance: 280
                },
                {
                    id: 4,
                    name: "Bromont",
                    price: 89,
                    conditions: {
                        snow: 75,
                        trails: 155,
                        trailsOpen: 120,
                        baseDepth: 150,
                        newSnow: 2,
                        temp: -5,
                        weather: "Clear"
                    },
                    location: "Eastern Townships",
                    distance: 85
                },
                {
                    id: 5,
                    name: "Mont-Orford",
                    price: 79,
                    conditions: {
                        snow: 70,
                        trails: 61,
                        trailsOpen: 55,
                        baseDepth: 140,
                        newSnow: 3,
                        temp: -6,
                        weather: "Partly Cloudy"
                    },
                    location: "Eastern Townships",
                    distance: 140
                },
                {
                    id: 6,
                    name: "Owl's Head",
                    price: 69,
                    conditions: {
                        snow: 80,
                        trails: 50,
                        trailsOpen: 48,
                        baseDepth: 165,
                        newSnow: 8,
                        temp: -9,
                        weather: "Light Snow"
                    },
                    location: "Eastern Townships",
                    distance: 120
                },
                {
                    id: 7,
                    name: "Stoneham",
                    price: 99,
                    conditions: {
                        snow: 88,
                        trails: 42,
                        trailsOpen: 42,
                        baseDepth: 190,
                        newSnow: 10,
                        temp: -11,
                        weather: "Snowing"
                    },
                    location: "Québec City Region",
                    distance: 240
                },
                {
                    id: 8,
                    name: "Mont-Blanc",
                    price: 75,
                    conditions: {
                        snow: 82,
                        trails: 43,
                        trailsOpen: 40,
                        baseDepth: 170,
                        newSnow: 7,
                        temp: -7,
                        weather: "Cloudy"
                    },
                    location: "Laurentides",
                    distance: 115
                }
            ];

            const filteredResorts = useMemo(() => {
                let filtered = resorts.filter(resort => resort.price <= maxPrice);
                
                switch(sortBy) {
                    case 'price':
                        return filtered.sort((a, b) => a.price - b.price);
                    case 'conditions':
                        return filtered.sort((a, b) => b.conditions.snow - a.conditions.snow);
                    case 'distance':
                        return filtered.sort((a, b) => a.distance - b.distance);
                    case 'newSnow':
                        return filtered.sort((a, b) => b.conditions.newSnow - a.conditions.newSnow);
                    default:
                        return filtered;
                }
            }, [maxPrice, sortBy]);

            const getConditionColor = (score) => {
                if (score >= 85) return 'text-green-600';
                if (score >= 70) return 'text-yellow-600';
                return 'text-orange-600';
            };

            const getConditionBg = (score) => {
                if (score >= 85) return 'bg-green-100';
                if (score >= 70) return 'bg-yellow-100';
                return 'bg-orange-100';
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-blue-50 to-blue-100 p-4 md:p-8">
                    <div className="max-w-6xl mx-auto">
                        <div className="text-center mb-8">
                            <div className="flex items-center justify-center gap-3 mb-3">
                                <svg className="w-10 h-10 text-blue-600" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M5 3l14 9-14 9V3z" />
                                </svg>
                                <h1 className="text-4xl font-bold text-gray-800">Quebec Ski Finder</h1>
                            </div>
                            <p className="text-gray-600">Find the perfect ski resort based on your budget and conditions</p>
                        </div>

                        <div className="bg-white rounded-lg shadow-md p-6 mb-6">
                            <div className="grid md:grid-cols-2 gap-6">
                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                        Maximum Price (per day)
                                    </label>
                                    <div className="flex items-center gap-4">
                                        <input
                                            type="range"
                                            min="50"
                                            max="150"
                                            step="10"
                                            value={maxPrice}
                                            onChange={(e) => setMaxPrice(Number(e.target.value))}
                                            className="flex-1"
                                        />
                                        <span className="text-lg font-semibold text-blue-600 w-20">${maxPrice}</span>
                                    </div>
                                </div>

                                <div>
                                    <label className="block text-sm font-medium text-gray-700 mb-2">
                                        Sort By
                                    </label>
                                    <select
                                        value={sortBy}
                                        onChange={(e) => setSortBy(e.target.value)}
                                        className="w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                                    >
                                        <option value="price">Lowest Price</option>
                                        <option value="conditions">Best Conditions</option>
                                        <option value="distance">Closest to Montreal</option>
                                        <option value="newSnow">Most Fresh Snow</option>
                                    </select>
                                </div>
                            </div>
                        </div>

                        <div className="space-y-4">
                            {filteredResorts.length === 0 ? (
                                <div className="bg-white rounded-lg shadow-md p-8 text-center">
                                    <p className="text-gray-600">No resorts found within your price range. Try increasing your budget!</p>
                                </div>
                            ) : (
                                filteredResorts.map((resort) => (
                                    <div key={resort.id} className="bg-white rounded-lg shadow-md hover:shadow-lg transition-shadow">
                                        <div className="p-6">
                                            <div className="flex flex-col md:flex-row md:items-start md:justify-between gap-4">
                                                <div className="flex-1">
                                                    <div className="flex items-start justify-between mb-3">
                                                        <div>
                                                            <h2 className="text-2xl font-bold text-gray-800">{resort.name}</h2>
                                                            <p className="text-gray-600">{resort.location} • {resort.distance}km from Montreal</p>
                                                        </div>
                                                        <div className="text-right ml-4">
                                                            <div className="text-2xl font-bold text-blue-600">
                                                                ${resort.price}
                                                            </div>
                                                            <p className="text-sm text-gray-500">per day</p>
                                                        </div>
                                                    </div>

                                                    <div className="grid grid-cols-2 md:grid-cols-4 gap-4 mb-4">
                                                        <div className={`${getConditionBg(resort.conditions.snow)} rounded-lg p-3`}>
                                                            <div className="flex items-center gap-2 mb-1">
                                                                <span className="text-xs font-medium text-gray-600">Conditions</span>
                                                            </div>
                                                            <div className={`text-2xl font-bold ${getConditionColor(resort.conditions.snow)}`}>
                                                                {resort.conditions.snow}%
                                                            </div>
                                                        </div>

                                                        <div className="bg-blue-50 rounded-lg p-3">
                                                            <div className="flex items-center gap-2 mb-1">
                                                                <span className="text-xs font-medium text-gray-600">Trails Open</span>
                                                            </div>
                                                            <div className="text-2xl font-bold text-blue-600">
                                                                {resort.conditions.trailsOpen}/{resort.conditions.trails}
                                                            </div>
                                                        </div>

                                                        <div className="bg-purple-50 rounded-lg p-3">
                                                            <div className="flex items-center gap-2 mb-1">
                                                                <span className="text-xs font-medium text-gray-600">Base Depth</span>
                                                            </div>
                                                            <div className="text-2xl font-bold text-purple-600">
                                                                {resort.conditions.baseDepth}cm
                                                            </div>
                                                        </div>

                                                        <div className="bg-cyan-50 rounded-lg p-3">
                                                            <div className="flex items-center gap-2 mb-1">
                                                                <span className="text-xs font-medium text-gray-600">Fresh Snow</span>
                                                            </div>
                                                            <div className="text-2xl font-bold text-cyan-600">
                                                                {resort.conditions.newSnow}cm
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div className="flex items-center gap-4 text-sm text-gray-600">
                                                        <div className="flex items-center gap-1">
                                                            <span>{resort.conditions.weather}</span>
                                                        </div>
                                                        <div className="flex items-center gap-1">
                                                            <span>{resort.conditions.temp}°C</span>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                ))
                            )}
                        </div>

                        <div className="mt-8 text-center text-sm text-gray-600">
                            <p>Note: Conditions are simulated for demonstration. In production, this would connect to real-time data APIs.</p>
                        </div>
                    </div>
                </div>
            );
        };

        ReactDOM.render(<QuebecSkiFinder />, document.getElementById('root'));
    </script>
</body>
</html>